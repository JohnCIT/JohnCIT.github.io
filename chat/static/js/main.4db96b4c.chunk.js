(this.webpackJsonpchat_app=this.webpackJsonpchat_app||[]).push([[0],{22:function(e,t,n){},24:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n.n(c),i=n(14),a=n.n(i),s=(n(22),n(13)),o=n.n(s),u=n(15),j=n(10),d=(n(24),n(9)),p=(n(30),n(26),n(16)),b=n(17),l=n(4);d.a.initializeApp({apiKey:"AIzaSyBmLLkjb7Yuw24Efm1r8C3qayxNqUZWqMA",authDomain:"chat-app-29cc7.firebaseapp.com",projectId:"chat-app-29cc7",storageBucket:"chat-app-29cc7.appspot.com",messagingSenderId:"511025175348",appId:"1:511025175348:web:7ffeb00f97188cc29ee361",measurementId:"G-VFWMWRLH6F"});var h=d.a.auth(),f=d.a.firestore();function O(){return Object(l.jsx)("button",{onClick:function(){var e=new d.a.auth.GoogleAuthProvider;h.signInWithPopup(e)},children:"Sign in with google"})}function m(){var e=f.collection("messages"),t=e.orderBy("createdAt").limit(25),n=Object(b.a)(t,{idField:"id"}),r=Object(j.a)(n,1)[0],i=Object(c.useState)(""),a=Object(j.a)(i,2),s=a[0],p=a[1],O=Object(c.createRef)(),m=function(){var t=Object(u.a)(o.a.mark((function t(n){var c,r,i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=h.currentUser,i=r.uid,a=r.photoURL,t.next=4,e.add({text:s,createdAt:d.a.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:a});case 4:p(""),null===O||void 0===O||null===(c=O.current)||void 0===c||c.scrollIntoView({behavior:"smooth"});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("main",{children:[r&&r.map((function(e){return Object(l.jsx)(v,{message:e},e.id)})),Object(l.jsx)("div",{ref:O})]}),Object(l.jsxs)("form",{onSubmit:m,children:[Object(l.jsx)("input",{value:s,onChange:function(e){return p(e.target.value)}}),Object(l.jsx)("button",{type:"submit",children:"Send"})]})]})}function v(e){var t,n=e.message,c=n.text,r=n.uid,i=n.photoURL,a=r===(null===h||void 0===h||null===(t=h.currentUser)||void 0===t?void 0:t.uid)?"sent":"received";return Object(l.jsxs)("div",{className:"message ".concat(a),children:[Object(l.jsx)("img",{src:i}),Object(l.jsx)("p",{children:c})]})}function x(){return h.currentUser&&Object(l.jsx)("button",{onClick:function(){return h.signOut()},children:"Sign out"})}var g=function(){var e=Object(p.a)(h),t=Object(j.a)(e,1)[0];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("header",{}),Object(l.jsxs)("section",{children:[t?Object(l.jsx)(m,{}):Object(l.jsx)(O,{}),Object(l.jsx)(x,{})]})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),w()}},[[29,1,2]]]);
//# sourceMappingURL=main.4db96b4c.chunk.js.map